(this.webpackJsonpsemant=this.webpackJsonpsemant||[]).push([[0],{17:function(e,t,n){},21:function(e,t,n){e.exports={List:"List_List__3GKlr"}},24:function(e,t,n){e.exports=n(81)},29:function(e,t,n){},3:function(e,t,n){e.exports={LineEdit:"LineEdit_LineEdit__1pxDD",term:"LineEdit_term__1dMQr",textarea:"LineEdit_textarea__evLCq"}},5:function(e,t,n){e.exports={ListItem:"ListItem_ListItem__3nSas"}},81:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(16),i=n.n(c),o=(n(29),n(23)),u=n(17),s=n.n(u),l=n(3),m=n.n(l),p=n(5),d=n.n(p),f=n(18),v=n(19),h=n.n(v),E=Object(a.createContext)(),g=Object(f.create)(),y={pages:[],currentPage:null,focusedPath:null},L={methods:function(e){return{addPage:function(t){var n=function(e){var t=e.markdown;return{markdown:t,ast:g.tokenizeBlock(t)}}({markdown:t});e.pages.push(n),e.currentPage=e.pages.length-1},deindent:function(e){console.log(e)},indent:function(e){console.log(e)},setValue:function(t,n){(function(e,t){return t.reduce((function(e,t){return e.children[t]}),e)})(e.pages[e.currentPage].ast,t).children[0].value=n}}}},_=function(){return h()(L,y)},x=n(20),k=".".concat(d.a.ListItem),b=function(e,t){var n=function(e,t){if(e){var n=e.closest(k),a=n["".concat(t,"Sibling")];return a||n.parentNode.closest(k)}}(e,t);n&&n.querySelector(".".concat(m.a.textarea)).focus()},w={ArrowUp:function(e,t){b(t,"previous")},ArrowDown:function(e,t){b(t,"next")},Tab:function(e,t,n,a){var r=e.shiftKey,c=n.indent,i=n.deindent;r?i(a):c(a)},Enter:function(e,t){if(e.shiftKey)return!0}},P=r.a.memo((function(e){var t=e.path,n=e.type,c=e.ast,i=t.split("."),o=Object(a.useContext)(E),u=r.a.createRef();return r.a.createElement("div",{className:Object(x.a)(m.a[n],m.a.LineEdit)},r.a.createElement("textarea",{onChange:function(e){var t=e.target.value;o.setValue(i,t)},onKeyDown:function(e){var t=e.key;w[t]&&(w[t](e,u.current,o,i)||e.preventDefault())},className:m.a.textarea,rows:c.value.split("\n").length,value:c.value,ref:u}))})),j=r.a.memo((function(e){var t=e.ast,n=e.path;return r.a.createElement("div",null,r.a.createElement(P,{path:n,type:"term",ast:t.children[0]}))})),I=r.a.memo((function(e){var t=e.ast,n=(t.type,t.children),a=e.path,c=void 0===a?"":a;return r.a.createElement("div",{className:d.a.ListItem},n.map((function(e,t){var n,a="".concat(c,".").concat(t);return n="list"===e.type?r.a.createElement(D,{path:a,ast:e}):"heading"===e.type?r.a.createElement(j,{path:a,ast:e}):"paragraph"===e.type?r.a.createElement(P,{path:a,type:e.type,ast:e.children[0]}):e.type,r.a.createElement("div",{key:t},n)})))})),N=n(21),O=n.n(N),D=r.a.memo((function(e){var t=e.ast,n=(t.type,t.children),a=e.path,c=void 0===a?"0":a;return r.a.createElement("div",{className:O.a.List},n.map((function(e,t){return r.a.createElement(I,{path:"".concat(c,".").concat(t),ast:e,key:t})})))})),C=r.a.memo((function(e){var t=e.ast;return r.a.createElement("div",null,r.a.createElement(D,{ast:t.children[0]}))})),K=n(22),A=n.n(K);var S=function(){var e=_(),t=Object(o.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){A()("./data/example.md").then((function(e){return c.addPage(e.data)}))}),[c]),r.a.createElement(E.Provider,{value:c},r.a.createElement("div",{className:s.a.App},n.pages.map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h2",null,"page ",t+1),r.a.createElement(C,e))}))))};i.a.render(r.a.createElement(S,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.0162ec9a.chunk.js.map